@using PolatlıEksozSiparisForm.Models.VMs
@{
    ViewBag.Title = "Index";
}

<div class="breacrumb-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb-text product-more">
                    <a href="/Home/Index"><i class="fa fa-home"></i> Anasayfa</a>
                    <a href="./shop.html">Hesabım</a>
                    <span>Sepetim</span>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Breadcrumb Section Begin -->
<!-- Shopping Cart Section Begin -->
<section class="shopping-cart spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="cart-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Ürün</th>
                                <th class="p-name">Ürün Adı</th>
                                <th>Fiyat</th>
                                <th>Adet</th>
                                <th>Toplam Fiyat</th>
                                <th><i class="ti-close"></i></th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                var sepettekiUrunler = new List<SepetVM>();
                                sepettekiUrunler = (List<SepetVM>)Session["SepettekiUrunler"];
                                if (sepettekiUrunler != null)
                                {
                                    foreach (var item in sepettekiUrunler)
                                    {
                                        <tr>
                                            <td class="cart-pic first-row"><img src="~/Content/img/cart-page/product-1.jpg" alt=""></td>
                                            <td class="cart-title first-row">
                                                <h5>@item.Adi</h5>
                                            </td>
                                            <td class="p-price first-row">@item.Fiyati</td>
                                            <td class="qua-col first-row">
                                                <div class="quantity">
                                                    <div class="pro-qty">
                                                        <input type="text" value=@item.SepettekiUrunAdedi>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="total-price first-row">@(item.Fiyati * item.SepettekiUrunAdedi) ₺</td>
                                            <td class="close-td first-row"><i class="ti-close"></i></td>
                                        </tr>

                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="cart-buttons">
                            <a href="#" class="primary-btn continue-shop">ALIŞVERİŞE DEVAM ET</a>
                            <a href="#" class="primary-btn up-cart">SEPETİ GÜNCELLE</a>
                        </div>
                    </div>
                    <div class="col-lg-4 offset-lg-4">
                        <div class="proceed-checkout">
                            <ul>
                                
                                @{
                                    var sepettekiUrun = new List<SepetVM>();
                                    sepettekiUrun = (List<SepetVM>)Session["SepettekiUrunler"];
                                    if (sepettekiUrun != null)
                                    {
                                        decimal toplam = 0;
                                        foreach (var item in sepettekiUrun)
                                        {
                                            toplam = item.Fiyati * item.SepettekiUrunAdedi + toplam;
                                        }
                                        <li class="cart-total">Toplam Tutar<span> @toplam ₺</span></li>
                                    }
                                    else
                                    {
                                        <li class="cart-total">Toplam Tutar<span>0₺</span></li>
                                    }
                                }
                            </ul>
                            <a href="/Siparis/Odeme" class="proceed-btn">ÖDEME İŞLEMLERİ</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


